<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
    <div th:replace="fragments/header::header-style">header-style</div>
    <!-- DataTables CSS -->
    <link href="/vendor/datatables-plugins/dataTables.bootstrap.css" rel="stylesheet">
    <!-- jQuery -->
    <script src="/vendor/jquery/jquery.min.js"></script>
    <!-- Bootstrap Core JavaScript -->
    <script src="/vendor/bootstrap/js/bootstrap.min.js"></script>
    <!-- Metis Menu Plugin JavaScript -->
    <script src="/vendor/metisMenu/metisMenu.min.js"></script>
    <!-- DataTables JavaScript -->
    <script src="/vendor/datatables/js/jquery.dataTables.min.js"></script>
    <script src="/vendor/datatables-plugins/dataTables.bootstrap.min.js"></script>
    <script src="/vendor/datatables-responsive/dataTables.responsive.js"></script>
    <!-- Custom Theme JavaScript -->
    <script src="/dist/js/sb-admin-2.js"></script>
    <script>
        $(document).ready(function () {
            $('#dataTables-example').DataTable({
                responsive: true
            });
        });

        function deleteConfirm() {
            if ($("input[name='youthId']:checked").length == 0) {
                alert("삭제할 대상 청년 정보를 선택하세요.");
                return;
            }
            var con_test = confirm("정말 삭제하시겠습니까?");
            if (con_test)
                document.getElementById("deleteYouthForm").submit();
        }
    </script>
</head>
<body>
<div id="wrapper">
    <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
        <div th:replace="fragments/header::header">header</div>
        <div class="navbar-default sidebar" role="navigation">
            <div class="sidebar-nav navbar-collapse">
                <ul class="nav" id="side-menu">
                    <li>
                        <a th:href="@{/youthSearch}"><i class="fa fa-table fa-fw"></i>청년 정보 검색</a>
                    </li>
                    <li sec:authorize="hasRole('ROLE_ADMIN')">
                        <a th:href="@{/youthInsert}"><i class="fa fa-edit fa-fw"></i>청년정보 추가</a>
                    </li>
                    <li>
                        <a href="#"><i class="fa fa-sitemap fa-fw"></i>청년 소속 정보<span class="fa arrow"></span></a>
                        <ul class="nav nav-second-level">
                            <li>
                                <a th:href="@{/youthOrgSearch}">청년 소속 정보 검색</a>
                            </li>
                            <li>
                                <a href="#">청년 소속 정보 추가<span class="fa arrow"></span></a>
                                <ul class="nav nav-third-level">
                                    <li sec:authorize="hasRole('ROLE_ADMIN')">
                                        <a th:href="@{/youthOrgInsert}">수동 입력</a>
                                    </li>
                                    <li sec:authorize="hasRole('ROLE_ADMIN')">
                                        <a th:href="@{/youthOrgInsertFile}">파일 업로드</a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div id="page-wrapper">
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">청년 정보 검색</h1>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        청년 정보 검색
                    </div>
                    <div class="panel-body" th:if="${size > 0}">
                        <form id="deleteYouthForm" action="youthDeleteResult" method="post">
                            <table width="100%" class="table table-striped table-bordered table-hover"
                                   id="dataTables-example">
                                <thead>
                                <tr>
                                    <th style="text-align: center; width: 8%" sec:authorize="hasRole('ROLE_ADMIN')">삭제
                                    </th>
                                    <th style="text-align: center"><b>청년 이름</b></th>
                                    <th style="text-align: center"><b>청년 또래</b></th>
                                    <th style="text-align: center"><b>휴대전화번호</b></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr th:each="youth : ${youths}">
                                    <td style="text-align: center" sec:authorize="hasRole('ROLE_ADMIN')">
                                        <input type="checkbox" name="youthId" style="text-align: center"
                                               th:value="${youthyouthId}">
                                    </td>
                                    <td>
                                        <a th:href="@{youthDetail(youthId=${youth.youthId})}"
                                           th:text="${youth.youthName}">
                                        </a>
                                    </td>
                                    <td style="text-align: center" th:text="${youth.youthPeer}">
                                    </td>
                                    <td th:text="${youth.cellPhone}">
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                            <div class="dataTables_wrapper form-inline dt-bootstrap no-footer">
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="dataTables_length">
                                            <button sec:authorize="hasRole('ROLE_ADMIN')" type="button"
                                                    onclick="deleteConfirm();" class="btn btn-default">
                                                선택 항목 삭제
                                            </button>
                                            <input type="hidden" th:name="${_csrf.parameterName}"
                                                   th:value="${_csrf.token}"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                        <!--<form id="searchYouthForm" method="get" action="youthSearch">
                            검색 기준:
                            <select name="target">
                                <option th:each="keywordElement : ${keywordMap}" th:value="${keywordElement.key}" th:text="${keywordElement.value}"></option>
                            </select>
                            <input type="text" name="keyword">
                            <button type="submit">검색</button>
                            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                        </form>-->
                    </div>
                    <div th:unless="${size > 0}">청년 목록을 불러올 수 없습니다.</div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>

</html>
